import"./modulepreload-polyfill-9p4a8sJU.js";import{S as G,i as Q,s as Y,C as Ve,w as h,D as $,x as c,y as A,F as g,K as He,L as qe,M as Je,j as M,k as y,z as E,U as X,V as me,v as be,r as R,A as Pe,T as $e,B as q,aa as We,ab as Xe,ac as Ge,N as ge,R as Qe,ay as Ye,a9 as _e,d as le,e as re,a6 as Ue,Q as T,f as I,a2 as Te,m as P,I as xe,J as De,h as ae,n as U,o as Fe,a3 as F,P as Ze,ax as et,at as we,az as tt,af as ye,b as nt,aA as st,l as ve,t as ot,ae as Oe,ag as lt,ah as rt,al as at}from"./sessions-qqJtB2Ni.js";function Ae(n){let e,s;return{c(){e=h("h2"),s=X(n[0]),c(e,"class","mb-2 text-lg font-bold")},m(t,l){A(t,e,l),g(e,s)},p(t,l){l&1&&me(s,t[0])},d(t){t&&E(e)}}}function it(n){let e,s,t,l,o=n[0]&&Ae(n);const r=n[2].default,a=Ve(r,n,n[1],null);return{c(){e=h("section"),o&&o.c(),s=$(),t=h("div"),a&&a.c(),c(t,"class","flex flex-col gap-4"),c(e,"class","rounded-md border-solid bg-neutral-2 p-4")},m(i,u){A(i,e,u),o&&o.m(e,null),g(e,s),g(e,t),a&&a.m(t,null),l=!0},p(i,[u]){i[0]?o?o.p(i,u):(o=Ae(i),o.c(),o.m(e,s)):o&&(o.d(1),o=null),a&&a.p&&(!l||u&2)&&He(a,r,i,i[1],l?Je(r,i[1],u,null):qe(i[1]),null)},i(i){l||(M(a,i),l=!0)},o(i){y(a,i),l=!1},d(i){i&&E(e),o&&o.d(),a&&a.d(i)}}}function ut(n,e,s){let{$$slots:t={},$$scope:l}=e,{title:o=void 0}=e;return n.$$set=r=>{"title"in r&&s(0,o=r.title),"$$scope"in r&&s(1,l=r.$$scope)},[o,l,t]}class fe extends G{constructor(e){super(),Q(this,e,ut,it,Y,{title:0})}}function Ee(n,e,s){const t=n.slice();return t[2]=e[s],t[4]=s,t}function Ne(n){let e;return{c(){e=X("+")},m(s,t){A(s,e,t)},d(s){s&&E(e)}}}function Le(n){let e,s=n[2]+"",t,l,o,r=n[4]+1!==n[0].length&&Ne();return{c(){e=h("kbd"),t=X(s),l=$(),r&&r.c(),o=$e(),c(e,"class","min-w-[2rem] rounded-md border-2 border-neutral-6 px-2 py-0.5 text-center last:mr-2")},m(a,i){A(a,e,i),g(e,t),A(a,l,i),r&&r.m(a,i),A(a,o,i)},p(a,i){i&1&&s!==(s=a[2]+"")&&me(t,s),a[4]+1!==a[0].length?r||(r=Ne(),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(a){a&&(E(e),E(l),E(o)),r&&r.d(a)}}}function ct(n){let e,s,t,l=be(n[0]),o=[];for(let r=0;r<l.length;r+=1)o[r]=Le(Ee(n,l,r));return{c(){e=h("p");for(let r=0;r<o.length;r+=1)o[r].c();s=$(),t=X(n[1]),c(e,"class","flex items-center gap-1")},m(r,a){A(r,e,a);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(e,null);g(e,s),g(e,t)},p(r,[a]){if(a&1){l=be(r[0]);let i;for(i=0;i<l.length;i+=1){const u=Ee(r,l,i);o[i]?o[i].p(u,a):(o[i]=Le(u),o[i].c(),o[i].m(e,s))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}a&2&&me(t,r[1])},i:R,o:R,d(r){r&&E(e),Pe(o,r)}}}function ft(n,e,s){let{keybind:t}=e,{action:l}=e;return n.$$set=o=>{"keybind"in o&&s(0,t=o.keybind),"action"in o&&s(1,l=o.action)},[t,l]}class te extends G{constructor(e){super(),Q(this,e,ft,ct,Y,{keybind:0,action:1})}}function gt(n){let e,s,t,l,o,r,a,i,u;return{c(){e=h("label"),s=h("input"),t=$(),l=h("span"),o=$(),r=X(n[1]),c(s,"type","checkbox"),c(s,"aria-hidden","true"),c(s,"class","hidden svelte-bc6ebz"),c(l,"tabindex","0"),c(l,"role","switch"),c(l,"aria-checked",n[0]),c(l,"aria-label",n[1]),c(l,"class","before:fade relative mr-1 block h-6 w-11 rounded-full bg-neutral-content/10 before:absolute before:left-0.5 before:top-0.5 before:block before:h-5 before:w-5 before:rounded-full before:bg-neutral-1 before:content-[''] svelte-bc6ebz"),c(e,"class","flex max-w-max cursor-pointer items-center gap-2 rounded-md text-sm font-medium hover:brightness-125")},m(f,b){A(f,e,b),g(e,s),s.checked=n[0],g(e,t),g(e,l),g(e,o),g(e,r),i||(u=[q(s,"change",n[4]),q(s,"change",n[3]),We(a=Xe.call(null,e,{title:n[2]}))],i=!0)},p(f,[b]){b&1&&(s.checked=f[0]),b&1&&c(l,"aria-checked",f[0]),b&2&&c(l,"aria-label",f[1]),b&2&&me(r,f[1]),a&&Ge(a.update)&&b&4&&a.update.call(null,{title:f[2]})},i:R,o:R,d(f){f&&E(e),i=!1,ge(u)}}}function dt(n,e,s){let{title:t}=e,{checked:l=!1}=e,{description:o=""}=e;function r(i){Qe.call(this,n,i)}function a(){l=this.checked,s(0,l)}return n.$$set=i=>{"title"in i&&s(1,t=i.title),"checked"in i&&s(0,l=i.checked),"description"in i&&s(2,o=i.description)},[l,t,o,r,a]}class ie extends G{constructor(e){super(),Q(this,e,dt,gt,Y,{title:1,checked:0,description:2})}}const{window:mt}=Ye;function pt(n){let e,s,t,l,o,r;return{c(){e=h("a"),s=X(n[1]),c(e,"href",t="#"+n[0]),c(e,"class",l=(n[2]?"bg-primary text-white hover:bg-primary-focus":"bg-neutral-3 hover:bg-neutral-4")+" rounded-md p-2 font-semibold")},m(a,i){A(a,e,i),g(e,s),o||(r=q(mt,"hashchange",n[3]),o=!0)},p(a,[i]){i&2&&me(s,a[1]),i&1&&t!==(t="#"+a[0])&&c(e,"href",t),i&4&&l!==(l=(a[2]?"bg-primary text-white hover:bg-primary-focus":"bg-neutral-3 hover:bg-neutral-4")+" rounded-md p-2 font-semibold")&&c(e,"class",l)},i:R,o:R,d(a){a&&E(e),o=!1,r()}}}function bt(n,e,s){var i;let{path:t}=e,{title:l}=e,{group:o=((i=window==null?void 0:window.location)==null?void 0:i.href.split("#")[1])??"general"}=e,r=!1;function a(){var u,f;(f=(u=window==null?void 0:window.location)==null?void 0:u.href)!=null&&f.endsWith(`#${t}`)&&s(4,o=t)}return n.$$set=u=>{"path"in u&&s(0,t=u.path),"title"in u&&s(1,l=u.title),"group"in u&&s(4,o=u.group)},n.$$.update=()=>{n.$$.dirty&17&&s(2,r=o===t)},[t,l,r,a,o]}class he extends G{constructor(e){super(),Q(this,e,bt,pt,Y,{path:0,title:1,group:4})}}function je(n,e,s){const t=n.slice();return t[18]=e[s],t[19]=e,t[20]=s,t}function Ie(n){var J,de;let e,s,t,l,o,r,a,i,u,f,b,k,w,_,N,p,m,v,O,C,d;function S(...x){return n[5](n[18],...x)}function L(...x){return n[6](n[18],...x)}function z(x){n[7](x,n[18])}let K={};n[1][n[18]].bgColor!==void 0&&(K.color=n[1][n[18]].bgColor),a=new _e({props:K}),le.push(()=>re(a,"color",z)),a.$on("change",n[8]);function Z(x){n[9](x,n[18])}let ee={};n[1][n[18]].textColor!==void 0&&(ee.color=n[1][n[18]].textColor),b=new _e({props:ee}),le.push(()=>re(b,"color",Z)),b.$on("change",n[10]),N=new Ue({props:{name:n[1][n[18]].name||n[18],bgColor:(J=n[1][n[18]])==null?void 0:J.bgColor,textColor:(de=n[1][n[18]])==null?void 0:de.textColor}});function ue(){return n[11](n[18])}return v=new Ze({props:{icon:"delete",class:"text-2xl text-error hover:text-error-focus",title:"Delete tag"}}),v.$on("click",ue),{c(){e=h("tr"),s=h("td"),t=h("input"),o=$(),r=h("td"),I(a.$$.fragment),u=$(),f=h("td"),I(b.$$.fragment),w=$(),_=h("td"),I(N.$$.fragment),p=$(),m=h("td"),I(v.$$.fragment),c(t,"type","text"),t.value=l=n[18],c(t,"minlength","1"),c(t,"maxlength","12"),c(t,"class","flex w-10 flex-1 rounded-md bg-neutral-4 p-1 text-center"),c(s,"class","flex items-center gap-2 svelte-1386n8v"),c(r,"class","svelte-1386n8v"),c(f,"class","svelte-1386n8v"),c(_,"class","svelte-1386n8v"),c(m,"class","svelte-1386n8v"),c(e,"class","rounded-md border-b border-b-neutral-4/50 last:border-b-0 hover:bg-neutral-3")},m(x,H){A(x,e,H),g(e,s),g(s,t),g(e,o),g(e,r),P(a,r,null),g(e,u),g(e,f),P(b,f,null),g(e,w),g(e,_),P(N,_,null),g(e,p),g(e,m),P(v,m,null),O=!0,C||(d=[q(t,"input",S),q(t,"change",L)],C=!0)},p(x,H){var W,D;n=x,(!O||H&2&&l!==(l=n[18])&&t.value!==l)&&(t.value=l);const ne={};!i&&H&2&&(i=!0,ne.color=n[1][n[18]].bgColor,ae(()=>i=!1)),a.$set(ne);const ce={};!k&&H&2&&(k=!0,ce.color=n[1][n[18]].textColor,ae(()=>k=!1)),b.$set(ce);const se={};H&2&&(se.name=n[1][n[18]].name||n[18]),H&2&&(se.bgColor=(W=n[1][n[18]])==null?void 0:W.bgColor),H&2&&(se.textColor=(D=n[1][n[18]])==null?void 0:D.textColor),N.$set(se)},i(x){O||(M(a.$$.fragment,x),M(b.$$.fragment,x),M(N.$$.fragment,x),M(v.$$.fragment,x),O=!0)},o(x){y(a.$$.fragment,x),y(b.$$.fragment,x),y(N.$$.fragment,x),y(v.$$.fragment,x),O=!1},d(x){x&&E(e),U(a),U(b),U(N),U(v),C=!1,ge(d)}}}function _t(n){let e,s,t,l,o,r,a,i,u,f,b,k,w,_,N,p,m,v,O,C,d,S,L,z,K,Z,ee,ue,J,de,x,H,ne,ce,se,W=be(Object.keys(n[1])),D=[];for(let j=0;j<W.length;j+=1)D[j]=Ie(je(n,W,j));const Be=j=>y(D[j],1,1,()=>{D[j]=null});function ze(j){n[13](j)}let ke={};n[0].bgColor!==void 0&&(ke.color=n[0].bgColor),d=new _e({props:ke}),le.push(()=>re(d,"color",ze)),d.$on("change",n[14]);function Ke(j){n[15](j)}let Se={};return n[0].textColor!==void 0&&(Se.color=n[0].textColor),K=new _e({props:Se}),le.push(()=>re(K,"color",Ke)),K.$on("change",n[16]),J=new Ue({props:{name:n[0].name||"Preview",bgColor:n[0].bgColor,textColor:n[0].textColor}}),{c(){e=h("table"),s=h("thead"),t=h("tr"),l=h("td"),l.textContent=`${T.i18n.getMessage("settingsTagsTag")}`,o=$(),r=h("td"),r.textContent=`${T.i18n.getMessage("settingsTagsBackground")}`,a=$(),i=h("td"),i.textContent=`${T.i18n.getMessage("settingsTagsText")}`,u=$(),f=h("td"),f.textContent=`${T.i18n.getMessage("settingsTagsPreview")}`,b=$(),k=h("td"),k.textContent=`${T.i18n.getMessage("settingsTagsAction")}`,w=$(),_=h("tbody");for(let j=0;j<D.length;j+=1)D[j].c();N=$(),p=h("tr"),m=h("td"),v=h("input"),O=$(),C=h("td"),I(d.$$.fragment),L=$(),z=h("td"),I(K.$$.fragment),ee=$(),ue=h("td"),I(J.$$.fragment),de=$(),x=h("td"),H=h("button"),H.textContent=`${T.i18n.getMessage("labelAddTag")}`,c(l,"class","svelte-1386n8v"),c(r,"class","svelte-1386n8v"),c(i,"class","svelte-1386n8v"),c(f,"class","svelte-1386n8v"),c(k,"class","flex items-center gap-2 svelte-1386n8v"),c(t,"class","border-b border-b-neutral-4/50 text-neutral-content/50"),c(v,"type","text"),c(v,"minlength","1"),c(v,"maxlength","12"),c(v,"class","flex w-10 flex-1 rounded-md bg-neutral-4 p-1 text-center"),c(m,"class","flex items-center gap-2 svelte-1386n8v"),c(C,"class","svelte-1386n8v"),c(z,"class","svelte-1386n8v"),c(ue,"class","svelte-1386n8v"),c(H,"class","max-w-max rounded-md bg-primary px-2 py-1 text-white hover:bg-primary-focus"),c(x,"class","svelte-1386n8v"),c(p,"class","rounded-md border-b border-b-neutral-4/50 last:border-b-0 hover:bg-neutral-3"),c(e,"class","w-full table-fixed rounded-md")},m(j,B){A(j,e,B),g(e,s),g(s,t),g(t,l),g(t,o),g(t,r),g(t,a),g(t,i),g(t,u),g(t,f),g(t,b),g(t,k),g(e,w),g(e,_);for(let oe=0;oe<D.length;oe+=1)D[oe]&&D[oe].m(_,null);g(_,N),g(_,p),g(p,m),g(m,v),Te(v,n[0].name),g(p,O),g(p,C),P(d,C,null),g(p,L),g(p,z),P(K,z,null),g(p,ee),g(p,ue),P(J,ue,null),g(p,de),g(p,x),g(x,H),ne=!0,ce||(se=[q(v,"input",n[12]),q(H,"click",n[17])],ce=!0)},p(j,[B]){if(B&14){W=be(Object.keys(j[1]));let V;for(V=0;V<W.length;V+=1){const Me=je(j,W,V);D[V]?(D[V].p(Me,B),M(D[V],1)):(D[V]=Ie(Me),D[V].c(),M(D[V],1),D[V].m(_,N))}for(xe(),V=W.length;V<D.length;V+=1)Be(V);De()}B&1&&v.value!==j[0].name&&Te(v,j[0].name);const oe={};!S&&B&1&&(S=!0,oe.color=j[0].bgColor,ae(()=>S=!1)),d.$set(oe);const Ce={};!Z&&B&1&&(Z=!0,Ce.color=j[0].textColor,ae(()=>Z=!1)),K.$set(Ce);const pe={};B&1&&(pe.name=j[0].name||"Preview"),B&1&&(pe.bgColor=j[0].bgColor),B&1&&(pe.textColor=j[0].textColor),J.$set(pe)},i(j){if(!ne){for(let B=0;B<W.length;B+=1)M(D[B]);M(d.$$.fragment,j),M(K.$$.fragment,j),M(J.$$.fragment,j),ne=!0}},o(j){D=D.filter(Boolean);for(let B=0;B<D.length;B+=1)y(D[B]);y(d.$$.fragment,j),y(K.$$.fragment,j),y(J.$$.fragment,j),ne=!1},d(j){j&&E(e),Pe(D,j),U(d),U(K),U(J),ce=!1,ge(se)}}}function ht(n,e,s){let t,l;Fe(n,F,d=>s(4,l=d));let o={name:"",bgColor:"royalblue",textColor:"white"};function r(d,S){const L=d.currentTarget.value;if(L.length<1||L.length>15)return d.currentTarget.value=t[S].name;s(1,t[S].name=L,t)}function a(d,S){const L=d.currentTarget.value;s(1,t[L]=t[S],t),delete t[S],F.changeSetting("tags",t)}const i=(d,S)=>r(S,d),u=(d,S)=>a(S,d);function f(d,S){n.$$.not_equal(t[S].bgColor,d)&&(t[S].bgColor=d,s(1,t),s(4,l))}const b=()=>F.changeSetting("tags",t);function k(d,S){n.$$.not_equal(t[S].textColor,d)&&(t[S].textColor=d,s(1,t),s(4,l))}const w=()=>F.changeSetting("tags",t),_=d=>{delete t[d],F.changeSetting("tags",t)};function N(){o.name=this.value,s(0,o)}function p(d){n.$$.not_equal(o.bgColor,d)&&(o.bgColor=d,s(0,o))}const m=()=>F.changeSetting("tags",t);function v(d){n.$$.not_equal(o.textColor,d)&&(o.textColor=d,s(0,o))}const O=()=>F.changeSetting("tags",t),C=()=>{o.name.length<1||o.name.length>15||(s(1,t[o.name]={bgColor:o.bgColor,textColor:o.textColor},t),F.changeSetting("tags",t),s(0,o={name:"",bgColor:"royalblue",textColor:"white"}))};return n.$$.update=()=>{n.$$.dirty&16&&s(1,t=l.tags)},[o,t,r,a,l,i,u,f,b,k,w,_,N,p,m,v,O,C]}class $t extends G{constructor(e){super(),Q(this,e,ht,_t,Y,{})}}function wt(n){let e,s,t,l,o,r,a,i,u,f,b,k,w,_,N;return _=new et({}),{c(){e=h("div"),s=h("p"),s.textContent=`${we} ${tt}`,t=$(),l=h("a"),l.textContent=`${T.i18n.getMessage("aboutChangelogLabel")}`,o=$(),r=h("a"),r.textContent=`${T.i18n.getMessage("aboutSourceCodeLabel")}`,a=$(),i=h("a"),i.textContent=`${T.i18n.getMessage("aboutTranslationsLabel")}`,u=$(),f=h("a"),f.textContent=`${T.i18n.getMessage("aboutLicenseLabel")}`,b=$(),k=h("h2"),k.textContent=`${T.i18n.getMessage("aboutDonateHeading")}`,w=$(),I(_.$$.fragment),c(s,"class","text-sm"),c(l,"href","https://github.com/navorite/sessionic/releases"),c(l,"target","_blank"),c(l,"class","svelte-hj3kf5"),c(r,"href","https://github.com/navorite/sessionic"),c(r,"target","_blank"),c(r,"class","svelte-hj3kf5"),c(i,"href","https://hosted.weblate.org/projects/sessionic"),c(i,"target","_blank"),c(i,"class","svelte-hj3kf5"),c(f,"href","https://github.com/navorite/sessionic/blob/main/LICENSE"),c(f,"target","_blank"),c(f,"class","svelte-hj3kf5"),c(e,"class","flex items-baseline gap-4 text-sm font-medium"),c(k,"class","text-lg font-bold")},m(p,m){A(p,e,m),g(e,s),g(e,t),g(e,l),g(e,o),g(e,r),g(e,a),g(e,i),g(e,u),g(e,f),A(p,b,m),A(p,k,m),A(p,w,m),P(_,p,m),N=!0},p:R,i(p){N||(M(_.$$.fragment,p),N=!0)},o(p){y(_.$$.fragment,p),N=!1},d(p){p&&(E(e),E(b),E(k),E(w)),U(_,p)}}}function vt(n){let e,s;return e=new fe({props:{title:T.i18n.getMessage("aboutPage"),$$slots:{default:[wt]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,l){P(e,t,l),s=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}class kt extends G{constructor(e){super(),Q(this,e,null,vt,Y,{})}}function St(n){let e,s,t,l;return e=new ie({props:{title:T.i18n.getMessage("settingsPopupView"),checked:n[0].popupView}}),e.$on("change",n[2]),t=new ie({props:{title:T.i18n.getMessage("settingsDarkMode"),checked:n[0].darkMode}}),t.$on("change",n[3]),{c(){I(e.$$.fragment),s=$(),I(t.$$.fragment)},m(o,r){P(e,o,r),A(o,s,r),P(t,o,r),l=!0},p(o,r){const a={};r&1&&(a.checked=o[0].popupView),e.$set(a);const i={};r&1&&(i.checked=o[0].darkMode),t.$set(i)},i(o){l||(M(e.$$.fragment,o),M(t.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),y(t.$$.fragment,o),l=!1},d(o){o&&E(s),U(e,o),U(t,o)}}}function Ct(n){let e,s,t,l,o,r,a,i=T.i18n.getMessage("settingsAutosaveMax")+"",u,f,b,k,w,_,N,p=T.i18n.getMessage("settingsAutosaveInterval")+"",m,v,O,C;return e=new ie({props:{title:T.i18n.getMessage("settingsAutosave"),checked:n[0].autoSave}}),e.$on("change",n[4]),{c(){I(e.$$.fragment),s=$(),t=h("label"),l=h("input"),a=$(),u=X(i),f=$(),b=h("label"),k=h("input"),N=$(),m=X(p),c(l,"type","number"),c(l,"class","mr-2 h-7 w-11 rounded-md text-center disabled:text-neutral-6"),c(l,"min","1"),c(l,"max","15"),l.value=o=n[0].autoSaveMaxSessions,l.disabled=r=!n[0].autoSave,c(t,"class","max-w-max text-sm font-medium"),c(k,"type","number"),c(k,"class","mr-2 h-7 w-11 rounded-md text-center disabled:text-neutral-6"),c(k,"min","1"),k.value=w=n[0].autoSaveTimer,k.disabled=_=!n[0].autoSave,c(b,"class","max-w-max text-sm font-medium")},m(d,S){P(e,d,S),A(d,s,S),A(d,t,S),g(t,l),g(t,a),g(t,u),A(d,f,S),A(d,b,S),g(b,k),g(b,N),g(b,m),v=!0,O||(C=[q(l,"change",n[5]),q(k,"change",n[6])],O=!0)},p(d,S){const L={};S&1&&(L.checked=d[0].autoSave),e.$set(L),(!v||S&1&&o!==(o=d[0].autoSaveMaxSessions)&&l.value!==o)&&(l.value=o),(!v||S&1&&r!==(r=!d[0].autoSave))&&(l.disabled=r),(!v||S&1&&w!==(w=d[0].autoSaveTimer)&&k.value!==w)&&(k.value=w),(!v||S&1&&_!==(_=!d[0].autoSave))&&(k.disabled=_)},i(d){v||(M(e.$$.fragment,d),v=!0)},o(d){y(e.$$.fragment,d),v=!1},d(d){d&&(E(s),E(t),E(f),E(b)),U(e,d),O=!1,ge(C)}}}function Mt(n){let e,s=T.i18n.getMessage("settingsURLFilterList")+"",t,l,o,r,a,i,u,f,b,k;return a=new ie({props:{title:T.i18n.getMessage("settingsLazyload"),description:T.i18n.getMessage("settingsLazyloadDescription"),checked:n[0].discarded}}),a.$on("change",n[8]),{c(){e=h("label"),t=X(s),l=$(),o=h("textarea"),r=$(),I(a.$$.fragment),i=$(),u=h("button"),u.textContent=`${T.i18n.getMessage("settingsResetAll")}`,c(o,"name","filter-list"),c(o,"id","filter-list"),c(o,"rows","8"),c(o,"placeholder",T.i18n.getMessage("settingsURLFilterListPlaceholder")),c(o,"class","resize-none rounded-md bg-neutral-3 p-2 text-sm placeholder:text-neutral-content/40"),c(o,"inputmode","url"),o.value=n[1],c(e,"class","flex flex-col gap-2 font-medium"),c(u,"type","button"),c(u,"class","max-w-fit rounded-md bg-error px-4 py-2 text-white hover:bg-error-focus")},m(w,_){A(w,e,_),g(e,t),g(e,l),g(e,o),A(w,r,_),P(a,w,_),A(w,i,_),A(w,u,_),f=!0,b||(k=[q(o,"change",n[7]),q(u,"click",F.clear)],b=!0)},p(w,_){(!f||_&2)&&(o.value=w[1]);const N={};_&1&&(N.checked=w[0].discarded),a.$set(N)},i(w){f||(M(a.$$.fragment,w),f=!0)},o(w){y(a.$$.fragment,w),f=!1},d(w){w&&(E(e),E(r),E(i),E(u)),U(a,w),b=!1,ge(k)}}}function Tt(n){let e,s,t,l,o,r,a,i,u,f,b=T.i18n.getMessage("settingsImportSessions")+"",k,w,_,N,p,m,v,O;return e=new ie({props:{title:T.i18n.getMessage("settingsDoNotAskForSessionName"),checked:n[0].doNotAskForTitle}}),e.$on("change",n[9]),t=new ie({props:{title:T.i18n.getMessage("settingsExportSessionCompressed"),checked:n[0].exportCompressed}}),t.$on("change",n[10]),o=new ie({props:{title:T.i18n.getMessage("settingsExcludePinnedTabs"),checked:n[0].excludePinned}}),o.$on("change",n[11]),a=new $t({}),{c(){I(e.$$.fragment),s=$(),I(t.$$.fragment),l=$(),I(o.$$.fragment),r=$(),I(a.$$.fragment),i=$(),u=h("div"),f=h("label"),k=X(b),w=$(),_=h("input"),N=$(),p=h("button"),p.textContent=`${T.i18n.getMessage("settingsExportSessions")}`,c(_,"type","file"),c(_,"class","hidden"),c(_,"accept",".json, .ssf, .txt"),c(f,"class","max-w-max cursor-pointer rounded-md bg-neutral-4 p-2 hover:bg-neutral-5"),c(p,"class","max-w-max rounded-md bg-neutral-4 p-2 hover:bg-neutral-5"),c(u,"class","flex gap-2")},m(C,d){P(e,C,d),A(C,s,d),P(t,C,d),A(C,l,d),P(o,C,d),A(C,r,d),P(a,C,d),A(C,i,d),A(C,u,d),g(u,f),g(f,k),g(f,w),g(f,_),g(u,N),g(u,p),m=!0,v||(O=[q(_,"change",Vt),q(p,"click",n[12])],v=!0)},p(C,d){const S={};d&1&&(S.checked=C[0].doNotAskForTitle),e.$set(S);const L={};d&1&&(L.checked=C[0].exportCompressed),t.$set(L);const z={};d&1&&(z.checked=C[0].excludePinned),o.$set(z)},i(C){m||(M(e.$$.fragment,C),M(t.$$.fragment,C),M(o.$$.fragment,C),M(a.$$.fragment,C),m=!0)},o(C){y(e.$$.fragment,C),y(t.$$.fragment,C),y(o.$$.fragment,C),y(a.$$.fragment,C),m=!1},d(C){C&&(E(s),E(l),E(r),E(i),E(u)),U(e,C),U(t,C),U(o,C),U(a,C),v=!1,ge(O)}}}function yt(n){let e,s,t,l,o,r,a,i;return e=new fe({props:{title:T.i18n.getMessage("settingsUserInterfaceHeading"),$$slots:{default:[St]},$$scope:{ctx:n}}}),t=new fe({props:{title:T.i18n.getMessage("settingsAutosaveHeading"),$$slots:{default:[Ct]},$$scope:{ctx:n}}}),o=new fe({props:{title:T.i18n.getMessage("settingsExtensionActionsHeading"),$$slots:{default:[Mt]},$$scope:{ctx:n}}}),a=new fe({props:{title:T.i18n.getMessage("settingsSessionActionsHeading"),$$slots:{default:[Tt]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment),s=$(),I(t.$$.fragment),l=$(),I(o.$$.fragment),r=$(),I(a.$$.fragment)},m(u,f){P(e,u,f),A(u,s,f),P(t,u,f),A(u,l,f),P(o,u,f),A(u,r,f),P(a,u,f),i=!0},p(u,[f]){const b={};f&8193&&(b.$$scope={dirty:f,ctx:u}),e.$set(b);const k={};f&8193&&(k.$$scope={dirty:f,ctx:u}),t.$set(k);const w={};f&8195&&(w.$$scope={dirty:f,ctx:u}),o.$set(w);const _={};f&8193&&(_.$$scope={dirty:f,ctx:u}),a.$set(_)},i(u){i||(M(e.$$.fragment,u),M(t.$$.fragment,u),M(o.$$.fragment,u),M(a.$$.fragment,u),i=!0)},o(u){y(e.$$.fragment,u),y(t.$$.fragment,u),y(o.$$.fragment,u),y(a.$$.fragment,u),i=!1},d(u){u&&(E(s),E(l),E(r)),U(e,u),U(t,u),U(o,u),U(a,u)}}}function At(n,e,s){let t,l;Fe(n,F,p=>s(0,l=p));const o=()=>{F.changeSetting("popupView",!l.popupView)},r=()=>F.changeSetting("darkMode",!l.darkMode),a=()=>{F.changeSetting("autoSave",!l.autoSave),l.autoSave?ye({message:"createTimer"}):nt.alarms.clear("auto-save")},i=p=>{Number(p.currentTarget.value)>15&&(p.currentTarget.value="15"),Number(p.currentTarget.value)<1&&(p.currentTarget.value="1"),F.changeSetting("autoSaveMaxSessions",Number(p.currentTarget.value))},u=p=>{Number(p.currentTarget.value)<1&&(p.currentTarget.value="1"),F.changeSetting("autoSaveTimer",Number(p.currentTarget.value)),ye({message:"createTimer"})},f=p=>Ht(p,t),b=()=>F.changeSetting("discarded",!l.discarded),k=()=>{F.changeSetting("doNotAskForTitle",!l.doNotAskForTitle)},w=()=>{F.changeSetting("exportCompressed",!l.exportCompressed)},_=()=>F.changeSetting("excludePinned",!l.excludePinned),N=()=>Kt(l.exportCompressed);return n.$$.update=()=>{var p;n.$$.dirty&1&&s(1,t=((p=l.urlFilterList)==null?void 0:p.join(`
`))??"")},[l,t,o,r,a,i,u,f,b,k,w,_,N]}class Et extends G{constructor(e){super(),Q(this,e,At,yt,Y,{})}}function Nt(n){let e,s,t,l,o,r,a,i,u,f,b,k,w,_,N,p;return e=new te({props:{keybind:["CTRL","K"],action:T.i18n.getMessage("shortcutCommandPalette")}}),t=new te({props:{keybind:["S"],action:T.i18n.getMessage("shortcutSaveCurrent")}}),o=new te({props:{keybind:["R"],action:T.i18n.getMessage("shortcutRenameSelected")}}),a=new te({props:{keybind:["F"],action:T.i18n.getMessage("shortcutFocusSearch")}}),u=new te({props:{keybind:["C"],action:T.i18n.getMessage("shortcutDisplayCurrent")}}),b=new te({props:{keybind:["E"],action:T.i18n.getMessage("shortcutSelectPrevious")}}),w=new te({props:{keybind:["D"],action:T.i18n.getMessage("shortcutSelectNext")}}),N=new te({props:{keybind:["Delete"],action:T.i18n.getMessage("shortcutDeleteSelected")}}),{c(){I(e.$$.fragment),s=$(),I(t.$$.fragment),l=$(),I(o.$$.fragment),r=$(),I(a.$$.fragment),i=$(),I(u.$$.fragment),f=$(),I(b.$$.fragment),k=$(),I(w.$$.fragment),_=$(),I(N.$$.fragment)},m(m,v){P(e,m,v),A(m,s,v),P(t,m,v),A(m,l,v),P(o,m,v),A(m,r,v),P(a,m,v),A(m,i,v),P(u,m,v),A(m,f,v),P(b,m,v),A(m,k,v),P(w,m,v),A(m,_,v),P(N,m,v),p=!0},p:R,i(m){p||(M(e.$$.fragment,m),M(t.$$.fragment,m),M(o.$$.fragment,m),M(a.$$.fragment,m),M(u.$$.fragment,m),M(b.$$.fragment,m),M(w.$$.fragment,m),M(N.$$.fragment,m),p=!0)},o(m){y(e.$$.fragment,m),y(t.$$.fragment,m),y(o.$$.fragment,m),y(a.$$.fragment,m),y(u.$$.fragment,m),y(b.$$.fragment,m),y(w.$$.fragment,m),y(N.$$.fragment,m),p=!1},d(m){m&&(E(s),E(l),E(r),E(i),E(f),E(k),E(_)),U(e,m),U(t,m),U(o,m),U(a,m),U(u,m),U(b,m),U(w,m),U(N,m)}}}function Lt(n){let e,s;return e=new fe({props:{title:T.i18n.getMessage("keyboardShortcutsHeading"),$$slots:{default:[Nt]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,l){P(e,t,l),s=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}class jt extends G{constructor(e){super(),Q(this,e,null,Lt,Y,{})}}async function It(n){return n?await(zt(n)?Ut(n.sessions):xt(n)):void 0}function Pt(n){const e=n.split(`

`);if(!e.length)return;const s=[];let t=0;for(const l of e){const o=l.split(`
`),r=[];for(const a of o){const[i,u]=a.split(" | ");r.push({url:i,title:u,favIconUrl:`chrome-extension://${T.runtime.id}/_favicon/?pageUrl=${i}&size=16`})}t+=r.length,s.push({tabs:r})}return st({title:"OneTab Imported Session",tabsNumber:t,windows:s})}async function Ut(n){const e=[];for(let s=0;s<n.length;s++)e[s]=await Dt(n[s]);return e}async function xt(n){const e=[];for(let s=0;s<n.length;s++)e[s]=await Ft(n[s]);return e}async function Dt(n){const e=await Ot(n);return{title:n.name,windows:e.windows,dateSaved:new Date(n.created).getTime(),dateModified:new Date(n.modified).getTime(),tabsNumber:e.tabsNumber,id:crypto.randomUUID()}}async function Ft(n){return{title:n.name,windows:await Rt(n),dateSaved:n.date,dateModified:n.lastEditedTime,tabsNumber:n.tabsNumber,id:n.id}}async function Ot(n){let e=0;for(const s of n.windows)if(s.tabs)for(let t=0;t<s.tabs.length;t++)s.tabs[t]=await Re(s.tabs[t]),e++;return{windows:n.windows,tabsNumber:e}}async function Rt(n){const e=Object.keys(n.windows),s=Array(e.length);for(let t=0;t<s.length;t++){const l=e[t];if(!l)continue;s[t]=n.windowsInfo[l];const o=Object.keys(n.windows[l]);s[t].tabs=Array(o.length);for(let r=0;r<o.length;r++){const a=o[r],i=n.windows[l][a];s[t].tabs[r]=await Re(i)}}return s}async function Re(n){const e={};for(const s in n)Bt(s)&&(e[s]=n[s]);return e.favIconUrl&&e.url&&(e.favIconUrl=ve.compress(e.favIconUrl)),e}function Bt(n){return ot.includes(n)}function zt(n){return"sessions"in n}async function Kt(n=!1){const e=new Date,s=await Oe.loadSessions();if(!s.length)return;const t=`[${we}:${s.length}]${e.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})}.${n?"ssf":"ssf.json"}`,l=JSON.stringify(s),o=new Blob([n?ve.compressToUint8Array(l):l]),r=URL.createObjectURL(o),a=document.createElement("a");a.style.display="none",a.href=r,a.download=t,document.body.appendChild(a),a.click(),URL.revokeObjectURL(r),a.remove()}async function Vt(n){var l;const e=n.target.files[0],s=new FileReader,t=(l=e.name.match(/.ssf(.json)?/))==null?void 0:l[0];t?s.readAsArrayBuffer(e):s.readAsText(e),s.onloadend=async o=>{var i;let r=[],a=(i=o.target)==null?void 0:i.result;if(t){const u=new Uint8Array(a);u&&(r=JSON.parse(t===".ssf"?ve.decompressFromUint8Array(u):new TextDecoder().decode(u)))}else{a.charCodeAt(0)===65279&&(a=a==null?void 0:a.slice(1));try{r=await It(JSON.parse(a))}catch{const f=Pt(a);if(!f)return;r=[f]}}r!=null&&r.length&&Oe.saveSessions(r)}}function Ht(n,e){const t=n.currentTarget.value.match(/(\b(https?|ftp|file)|\B\*):\/{2}(\*|(\*\.)?[^*/\s:]*)\/[^\s]*/g);F.changeSetting("urlFilterList",t||void 0),e&&(n.currentTarget.value=e)}function qt(n){let e,s,t={ctx:n,current:null,token:null,hasCatch:!1,pending:Yt,then:Wt,catch:Jt,value:4,blocks:[,,,]};return lt(F.init(),t),{c(){e=$e(),t.block.c()},m(l,o){A(l,e,o),t.block.m(l,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,s=!0},p(l,o){n=l,rt(t,n,o)},i(l){s||(M(t.block),s=!0)},o(l){for(let o=0;o<3;o+=1){const r=t.blocks[o];y(r)}s=!1},d(l){l&&E(e),t.block.d(l),t.token=null,t=null}}}function Jt(n){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Wt(n){let e,s,t,l;const o=[Qt,Gt,Xt],r=[];function a(i,u){return i[0]==="keyboard-shortcuts"?0:i[0]==="about"?1:2}return e=a(n),s=r[e]=o[e](n),{c(){s.c(),t=$e()},m(i,u){r[e].m(i,u),A(i,t,u),l=!0},p(i,u){let f=e;e=a(i),e!==f&&(xe(),y(r[f],1,1,()=>{r[f]=null}),De(),s=r[e],s||(s=r[e]=o[e](i),s.c()),M(s,1),s.m(t.parentNode,t))},i(i){l||(M(s),l=!0)},o(i){y(s),l=!1},d(i){i&&E(t),r[e].d(i)}}}function Xt(n){let e,s;return e=new Et({}),{c(){I(e.$$.fragment)},m(t,l){P(e,t,l),s=!0},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}function Gt(n){let e,s;return e=new kt({}),{c(){I(e.$$.fragment)},m(t,l){P(e,t,l),s=!0},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}function Qt(n){let e,s;return e=new jt({}),{c(){I(e.$$.fragment)},m(t,l){P(e,t,l),s=!0},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){U(e,t)}}}function Yt(n){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Zt(n){let e,s,t,l,o,r,a,i,u,f,b,k,w=at(),_,N;function p(L){n[1](L)}let m={title:T.i18n.getMessage("generalPage"),path:"general"};n[0]!==void 0&&(m.group=n[0]),t=new he({props:m}),le.push(()=>re(t,"group",p));function v(L){n[2](L)}let O={title:T.i18n.getMessage("keyboardShortcutsPage"),path:"keyboard-shortcuts"};n[0]!==void 0&&(O.group=n[0]),r=new he({props:O}),le.push(()=>re(r,"group",v));function C(L){n[3](L)}let d={title:T.i18n.getMessage("aboutPage"),path:"about"};n[0]!==void 0&&(d.group=n[0]),u=new he({props:d}),le.push(()=>re(u,"group",C));let S=w&&qt(n);return document.title=we+" Settings",{c(){e=h("div"),s=h("div"),I(t.$$.fragment),o=$(),I(r.$$.fragment),i=$(),I(u.$$.fragment),b=$(),k=h("div"),S&&S.c(),_=$(),c(s,"class","flex items-center justify-center gap-2"),c(k,"class","flex flex-col gap-4 p-4"),c(e,"class","mx-auto w-full max-w-4xl")},m(L,z){A(L,e,z),g(e,s),P(t,s,null),g(s,o),P(r,s,null),g(s,i),P(u,s,null),g(e,b),g(e,k),S&&S.m(k,null),A(L,_,z),N=!0},p(L,[z]){const K={};!l&&z&1&&(l=!0,K.group=L[0],ae(()=>l=!1)),t.$set(K);const Z={};!a&&z&1&&(a=!0,Z.group=L[0],ae(()=>a=!1)),r.$set(Z);const ee={};!f&&z&1&&(f=!0,ee.group=L[0],ae(()=>f=!1)),u.$set(ee),w&&S.p(L,z)},i(L){N||(M(t.$$.fragment,L),M(r.$$.fragment,L),M(u.$$.fragment,L),M(S),N=!0)},o(L){y(t.$$.fragment,L),y(r.$$.fragment,L),y(u.$$.fragment,L),y(S),N=!1},d(L){L&&(E(e),E(_)),U(t),U(r),U(u),S&&S.d()}}}function en(n,e,s){let t;function l(a){t=a,s(0,t)}function o(a){t=a,s(0,t)}function r(a){t=a,s(0,t)}return[t,l,o,r]}class tn extends G{constructor(e){super(),Q(this,e,en,Zt,Y,{})}}new tn({target:document.getElementById("root")});
